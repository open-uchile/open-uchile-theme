## mako

<%page expression_filter="h"/>

<%namespace name='static' file='../static_content.html'/>
<%namespace file='../main.html' import="login_query"/>

<%!
from django.conf import settings
from django.utils.translation import ugettext as _

%>

<%
  allows_login = not settings.FEATURES['DISABLE_LOGIN_BUTTON'] and not combined_login_and_register
  courses_are_browsable = settings.FEATURES.get('COURSES_ARE_BROWSABLE')
%>
<div class="collapse navbar-collapse pt-3" id="navbar">
  % if courses_are_browsable:
    <ul class="navbar-nav mr-auto">
      <li class="nav-item my-auto mx-4">
          <a class="nav-link my-auto ${'active ' if '/courses' == request.path else ''}" href="/courses">${_('Explore courses')}</a>
      </li>
    </ul>
  %endif
  <ul class="navbar-nav ml-auto">
    % if settings.FEATURES.get('ENABLE_DASHBOARD_SEARCH'):
    <li class="nav-item my-auto mx-4">
        <div class="search-container">
            <form action="/courses" method="get">
              <input class="search expandright" id="searchright" type="search" name="search_query" placeholder="Search">          
              <button class="searchbutton" type="submit" for="searchright">
                <span class="mglass">&#9906;</span>
              </button>
            </form>
        </div>
    </li>
    
    % endif
    <li class="nav-item my-auto mx-4">
        <a class="nav-link my-auto ${'active ' if '/about' == request.path else ''}" href="/about">${_('About')}</a>
    </li>
    <li class="nav-item my-auto mx-4">
        <a class="nav-link my-auto ${'active ' if '/faq' == request.path else ''}" href="/faq">${_('FAQ')}</a>
    </li>
    <li class="nav-item my-auto mx-4">
        <a class="nav-link my-auto ${'active ' if '/certificates/validate' == request.path else ''}" href="/certificates/validate">${_('Certificate Validation ')}</a>
    </li>
    <li class="nav-item my-auto mx-4">
        <a class="nav-link my-auto ${'active ' if '/contact_form' == request.path else ''}" href="/contact_form">${_('Contact us')}</a>
    </li>
  </ul>
  <ul class="navbar-nav">
    <li class="nav-item my-auto mx-4 ${'' if allows_login else 'invisible'}">
        <a class="nav-link my-auto btn" href="/login${login_query()}">
          <button type="button" class="btn px-3">
            ${_('Sign in')}
          </button>
        </a>
    </li>
  </ul>
</div>

